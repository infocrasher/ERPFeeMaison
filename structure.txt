# STRUCTURE DU PROJET FEE MAISON GESTION (SYNTHÈSE 2025)

.
├── app/
│   ├── __init__.py
│   ├── admin/
│   ├── auth/                # Authentification, rôles, sécurité
│   ├── employees/           # Gestion des employés
│   ├── main/
│   ├── orders/              # Commandes, production, statuts
│   ├── products/            # Produits, catégories
│   ├── purchases/           # Achats fournisseurs
│   ├── recipes/             # Recettes, ingrédients
│   ├── sales/               # POS, caisse, mouvements
│   │   ├── models.py        # CashRegisterSession, CashMovement
│   │   └── routes.py        # Logique POS, caisse, mouvements
│   ├── static/              # CSS, JS, images
│   ├── stock/               # Gestion des stocks, mouvements, transferts
│   ├── templates/           # Tous les templates Jinja2
│   └── templates_backup/
├── config.py
├── decorators.py
├── diagnostic_url_for.py
├── extensions.py
├── models.py                # Modèles globaux (User, Product, etc.)
├── run.py
├── run_diagnostics.py
├── run_migration.py
├── requirements.txt
├── structure.txt
├── tests/
│   ├── conftest.py
│   ├── test_app.py
│   ├── test_categories.py
│   ├── test_models.py
│   ├── test_products.py
│   └── test_stock.py
└── venv/

# MODULES MÉTIER PRINCIPAUX
- Ventes POS (app/sales/routes.py, app/templates/sales/pos_interface.html)
- Caisse (CashRegisterSession, CashMovement)
- Stock (app/stock/)
- Achats (app/purchases/)
- Produits, recettes, production (app/products/, app/recipes/)
- Employés (app/employees/)
- Authentification, rôles (app/auth/)

# LOGIQUE CAISSE
- À chaque vente, un CashMovement de type 'vente' est créé et rattaché à la session de caisse ouverte.
- Le solde de caisse = initial_amount + Σ(entrées) - Σ(sorties)
- Les ventes sont liées à la session via CashMovement (order_id possible en extension)

# TEMPLATES CLÉS
- base.html, dashboards/, sales/pos_interface.html, stock/, orders/, purchases/, recipes/
